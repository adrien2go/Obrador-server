<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see https://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.issued" content="2017-01-01T14:28:30.863048091" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
    @page {  }
    table { border-collapse:collapse; border-spacing:0; empty-cells:show }
    td, th { vertical-align:top; font-size:12pt;}
    h1, h2, h3, h4, h5, h6 { clear:both;}
    ol, ul { margin:0; padding:0;}
    li { list-style: none; margin:0; padding:0;}
    /* "li span.odfLiEnd" - IE 7 issue*/
    li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
    span.footnodeNumber { padding-right:1em; }
    span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
    span.heading_numbering { margin-right: 0.8rem; }* { margin:0;}
    .Contents_20_1 { font-size:12pt; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;margin-left:0cm; margin-right:0cm; text-indent:0cm; }
    .Contents_20_2 { font-size:12pt; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;margin-left:0.499cm; margin-right:0cm; text-indent:0cm; }
    .Contents_20_Heading { font-size:16pt; font-weight:bold; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; margin-top:0.423cm; text-indent:0cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P1 { font-size:12pt; font-family:Ubuntu; writing-mode:horizontal-tb; direction:ltr;text-align:center ! important; }
    .P10 { font-size:115%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.353cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P11 { font-size:115%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.353cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P12 { font-size:115%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.353cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P13 { font-size:115%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.353cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P14 { font-size:12pt; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P15 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P16 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Ubuntu; writing-mode:horizontal-tb; direction:ltr;}
    .P17 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P18 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P19 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P2 { font-size:12pt; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;text-align:left ! important; }
    .P20 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P21 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P22 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P23 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P24 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P25 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P26 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P27 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P28 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P29 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P3 { font-size:12pt; margin-left:0cm; margin-right:0cm; text-indent:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P30 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P31 { font-size:12pt; line-height:120%; margin-bottom:0.247cm; margin-top:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P4 { font-size:12pt; margin-left:0.499cm; margin-right:0cm; text-indent:0cm; font-family:Liberation Serif; writing-mode:horizontal-tb; direction:ltr;}
    .P7 { font-size:130%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.423cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P8 { font-size:130%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.423cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .P9 { font-size:130%; font-weight:bold; margin-bottom:0.212cm; margin-top:0.423cm; font-family:Liberation Sans; writing-mode:horizontal-tb; direction:ltr;}
    .Bullet_20_Symbols { font-family:OpenSymbol; }
    .Internet_20_link { color:#000080; text-decoration:underline; }
    .T10 { font-family:Ubuntu; }
    .T11 { font-family:Ubuntu; }
    .T12 { font-family:Ubuntu; }
    .T13 { font-family:Ubuntu; }
    .T14 { font-family:Ubuntu; }
    .T15 { font-family:Ubuntu; }
    .T16 { font-family:Ubuntu; font-size:18.2000007629395pt; font-weight:bold; }
    .T17 { font-family:Ubuntu; font-size:16.1000003814697pt; font-weight:bold; }
    .T18 { font-family:Ubuntu; font-size:16.1000003814697pt; font-weight:bold; }
    .T19 { color:#000000; font-family:Ubuntu; background-color:#ffffff; }
    .T20 { color:#000000; font-family:Ubuntu; background-color:#ffffff; }
    .T21 { color:#000000; font-family:Ubuntu; background-color:#ffffff; }
    .T22 { color:#000000; font-family:Ubuntu; background-color:#ffffff; }
    .T23 { color:#000000; font-family:Ubuntu; background-color:#ffffff; }
    .T24 { color:#ffffff; font-family:Ubuntu; background-color:#000000; }
    .T25 { color:#ffffff; font-family:Ubuntu; background-color:#000000; }
    .T3 { font-family:Ubuntu; }
    .T4 { font-family:Ubuntu; font-weight:bold; }
    .T5 { font-family:Ubuntu; }
    .T6 { font-family:Ubuntu; }
    .T7 { font-family:Ubuntu; }
    .T8 { font-family:Ubuntu; }
    .T9 { font-family:Ubuntu; }
    /* ODF styles with no properties representable as CSS */
    .Sect1 .Endnote_20_Symbol .Footnote_20_Symbol .Index_20_Link .Numbering_20_Symbols .T1 .T26 .T27  { }
    </style></head><body dir="ltr" style="max-width:21.59cm;margin-top:2cm; margin-bottom:2cm; margin-left:2cm; margin-right:2cm; "><table border="0" cellspacing="0" cellpadding="0" class="Sect1"><colgroup/><p class="Contents_20_Heading">Table des matières</p><tr><td><p class="P3"><a href="#__RefHeading___Toc151_1033052965">I. Introduction</a></p></td></tr><tr><td><p class="P3"><a href="#__RefHeading___Toc127_1033052965">II. Découverte du Shell Unix</a></p></td></tr><tr><td><p class="P4"><a href="#__RefHeading___Toc129_1033052965">I. Qu’est-ce que c’est ?</a></p></td></tr><tr><td><p class="P4"><a href="#__RefHeading___Toc153_1033052965">II. Dans notre cas.</a></p></td></tr><tr><td><p class="P3"><a href="#__RefHeading___Toc247_1033052965">III. Création d’un conteneur (container) Proxmox avec Wordpress à l’intérieur.</a></p></td></tr><tr><td><p class="P4"><a href="#__RefHeading___Toc249_1033052965">I. Qu’est-ce qu’un conteneur ?</a></p></td></tr><tr><td><p class="P4"><a href="#__RefHeading___Toc251_1033052965">II. Installons notre ‘Proxy’, en conteneur Proxmox.</a></p></td></tr></table><p class="P14"> </p><h1 class="P7"><a id="a_I__Introduction"><span class="heading_numbering">I.</span></a><a id="__RefHeading___Toc151_1033052965"/><span class="T6">I</span><span class="T3">ntroduction</span></h1><p class="P21"><span class="T5">Dans ce document nous allons utiliser l’OS Proxmox v7.4 pour gérer notre serveur WEB.<br/>Nous allons découvrir le ‘Shell Unix’ pour l’édition de fichiers de configuration</span><span class="T8">s</span><span class="T5">, puis l’interface WEB d’Administration de Proxmox pour l’administration et la gestion des services du serveur. </span><span class="T8">Dans cette section nous verrons brièvement les interfaces réseaux (redirection des ports de notre serveur).</span></p><p class="P22"><span class="T5">N</span><span class="T3">ous verrons dans un second temps le principe de ‘conteneurs’ de Proxmox et de docker (Logiciel qui permet de créer des ‘conteneurs’ tout comme Proxmox, mais à l’intérieur d’un conteneur Proxmox).</span></p><h1 class="P8"><a id="a_II__Découverte_du_Shell_Unix"><span class="heading_numbering">II.</span></a><a id="__RefHeading___Toc127_1033052965"/><span class="T6">Découverte du </span><span class="T7">S</span><span class="T6">hell </span><span class="T16">Unix</span></h1><h2 class="P10"><a id="a_II_I__Qu’est-ce_que_c’est_?"><span class="heading_numbering">II.I.</span></a><a id="__RefHeading___Toc129_1033052965"/><span class="T7">Qu’est-ce que c’est ?</span></h2><p class="P15"><span class="T7">Un </span><span class="T4">shell Unix</span><span class="T7"> est un </span><a href="https://fr.wikipedia.org/wiki/Interpréteur_de_commandes" class="Internet_20_link">interpréteur de commandes</a><span class="T7"> destiné aux </span><a href="https://fr.wikipedia.org/wiki/Systèmes_d%27exploitation" class="Internet_20_link">systèmes d'exploitation</a><span class="T7"> </span><a href="https://fr.wikipedia.org/wiki/Unix" class="Internet_20_link">Unix</a><span class="T7"> et de </span><a href="https://fr.wikipedia.org/wiki/Type_Unix" class="Internet_20_link">type Unix</a><span class="T7"> qui permet d'accéder aux fonctionnalités internes du système d'exploitation. (Définition de Wikipédia).<br/></span><span class="T8">Cela va nous permettre d’ouvrir des logiciels afin d’éditer des fichiers textes mais aussi d’exécuter des scripts Shell, afin d’exécuter une suite d’instructions (cela permet d’automatiser une suite d’actions sur le serveur sans devoir tout taper à la main à chaque fois dans le terminal).</span></p><h2 class="P11"><a id="a_II_II__Dans_notre_cas_"><span class="heading_numbering">II.II.</span></a><a id="__RefHeading___Toc153_1033052965"/><span class="T5">Dans</span><span class="T15"> </span><span class="T5">notre cas.</span></h2><p class="P20"><span class="T5">O</span><span class="T3">n va éditer le fichier de redirections des ports de Proxmox vers les ‘conteneurs’</span></p><ul><li><p class="P18" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T6">O</span><span class="T7">uvrir un terminal </span><span class="T9">ou ouvrir votre navigateur à l’adresse du serveur.</span><span class="odfLiEnd"/> </p></li><li><p class="P23" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T7">S</span><span class="T3">e connecter au serveur :<br/>Via SSH par terminal ou via l’interface Web du serveur.<br/>Si connecté via le Web, </span><span class="T10">sélectionner le ‘PVE’, puis </span><span class="T3">ouvrir </span><span class="T10">l’interface</span><span class="T3"> ‘&gt;_Shell’ → ‘noVNC’ </span><span class="T10">(terminal via le Web),<br/></span><span class="T11">Vous êtes maintenant connecté au serveur.</span><span class="odfLiEnd"/> </p></li><li><p class="P17" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T7">T</span><span class="T3">apez </span><span class="T24">pwd</span><span class="T20"> </span><span class="T19">pour afficher l’emplacement actuel dans l’arborescence de votre disque dur.</span><span class="odfLiEnd"/> </p></li><li><p class="P19" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T19">T</span><span class="T21">apez </span><span class="T25">nano /etc/network/interfaces</span><span class="T21"> </span><span class="T23">ceci va </span><span class="T21">lancer le logiciel ‘nano’ qui permet d’éditer des fichiers en ligne de commande.</span><span class="odfLiEnd"/> </p></li><li><p class="P19" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T21">Ici nous voulons ajouter des redirections de ports vers l’un de nos ‘conteneurs’<br/></span><span class="T22">Avec ‘ctrl+k’ vous allez coupez des lignes et avec ‘ctrl+u’ vous allez les coller.<br/>Avec ‘ctrl+x’ vous allez quitter ‘nano’ tout en enregistrant les modifications.<br/>https://fr.wikipedia.org/wiki/Port_(logiciel)</span><span class="odfLiEnd"/> </p></li></ul><h1 class="P9"><a id="a_III__Création_d’un_conteneur__container__Proxmox_avec_Wordpress_à_l’intérieur_"><span class="heading_numbering">III.</span></a><a id="__RefHeading___Toc247_1033052965"/>Création d’un conteneur (container) <span class="T26">Proxmox avec</span> Wordpress <span class="T26">à l’intérieur.</span></h1><p class="P24"><span class="T11">Dans ce </span><span class="T13">chapitre</span><span class="T11"> nous allons créer un conteneur avec Wordpress afin de créer </span><span class="T12">le</span><span class="T11"> site internet </span><span class="T12">d’Obrador.</span></p><h2 class="P12"><a id="a_III_I__Qu’est-ce_qu’un_conteneur_?"><span class="heading_numbering">III.I.</span></a><a id="__RefHeading___Toc249_1033052965"/><span class="T7">Qu’est-ce </span><span class="T11">qu’un conteneur </span><span class="T7">?</span></h2><p class="P25"><span class="T12">Nous verrons</span><span class="T11"> deux type</span><span class="T12">s</span><span class="T11"> de conteneurs, Proxmox (LXC) et Docker, </span><span class="T12">il y en a</span><span class="T11"> plein d’autres que nous ne verrons pas.</span></p><p class="P25"><span class="T11">Un conteneur ‘Proxmox’ permet de créer un OS (Système d’exploitation) dans un OS déjà existant. C’est comme un deuxième ordinateur qui n’a rien avoir avec le premier.<br/>Un conteneur ‘Docker’ c’est presque la même chose mais on va pouvoir partager de</span><span class="T12">s</span><span class="T11"> dossiers et </span><span class="T12">des </span><span class="T11">fichiers avec l’OS qui contient le conteneur. </span><span class="T12">Son avantage est aussi que les conteneurs docker sont déjà installé avec des services comme Wordpress et que les mises à jours sont extrêmement simples. </span></p><p class="P16"><span class="T27">Les conteneurs vont nous permettre d’ajouter/gérer des services Web (et autres), facilement sans que cela ne puisse casser les services qui sont déjà hébergés sur le serveur.<br/>De plus les sauvegardes, restaurations et mise à jours, sont bien plus faciles et sans risques.</span></p><h2 class="P13"><a id="a_III_II__Installons_notre_‘Proxy’__en_conteneur_Proxmox_"><span class="heading_numbering">III.II.</span></a><a id="__RefHeading___Toc251_1033052965"/><span class="T12">Installons </span><span class="T14">notre ‘Proxy’, </span><span class="T18">en</span><span class="T17"> conteneur Proxmox</span><span class="T12">.</span></h2><p class="P27"><span class="T13">Dans ce paragraphe nous allons créer le conteneur Proxmox 101, afin de créer notre ‘Proxy’.</span></p><p class="P26"><span class="T3">Le Proxy permet de rediriger des URL (de services Web) vers des ports du serveur.</span></p><ul><li><p class="P28" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">Via l’interface Web de Proxmox, ‘Créer un conteneur’.</span><span class="odfLiEnd"/> </p></li><li><p class="P28" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">CT ID : 101, mettre le ‘Nom d’hôte’ : ‘Proxy’, décocher ‘Conteneur non privilégié’, mettre un mot de passe, puis Suivant.</span><span class="odfLiEnd"/> </p></li><li><p class="P28" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">Choisir le Modèle ‘Debian 12’, puis Suivant.</span><span class="odfLiEnd"/> </p></li><li><p class="P28" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">Laisser le disque dur par défaut, puis Suivant.</span><span class="odfLiEnd"/> </p></li><li><p class="P28" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">Laisser un cœur de Processeur, puis Suivant.</span><span class="odfLiEnd"/> </p></li><li><p class="P29" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">La mémoire aussi, puis Suivant.</span><span class="odfLiEnd"/> </p></li><li><p class="P29" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">Le réseau : Mettre ‘Pont’ à ‘vmbr1’, IPv4/CIDR à ‘192.168.0.101/24’, ‘Passerelle’ à ‘192.168.0.254’, puis Suivant.</span><span class="odfLiEnd"/> </p></li><li><p class="P29" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;">•</span><span class="T3">Et tout accepter ce qui suit.</span><span class="odfLiEnd"/> </p></li></ul><p class="P30"><span class="T3">Voilà c’est fait, le conteneur ‘101 (Proxy)’ devrait apparaître sur la gauche de l’interface Web de Proxmox. Vous pouvez cliquer dessus afin d’afficher le Résumé du conteneur.</span></p><p class="P31"><span class="T3">On va lancer un terminal afin d’installer et configurer notre proxy.</span></p><p class="P30"><span class="T3"/></p></body></html>